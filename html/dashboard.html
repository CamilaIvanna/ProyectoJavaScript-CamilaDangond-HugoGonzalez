<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tu cuenta</title>
    <link rel="stylesheet" href="/styles/normalize.css">
    <link rel="stylesheet" href="/styles/style.css">
    <link rel="stylesheet" href="/styles/dashboard.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="/imagenes/favicon.png" type="image/x-icon">
</head>
<body>
    <header id="navbar"></header>
    <main class="container-flex">
        <aside id="menu-lateral">
            <ul class="menu-desplegable">
                <li class="container-flex flex-center"><a href="">Tus movimientos.</a></li>
                <li class="container-flex flex-center"><a href="">Envia dinero.</a></li>
                <li class="container-flex flex-center"><a href="">Retira dinero.</a></li>
                <li class="container-flex flex-center"><a href="">Paga tus servicios.</a></li>
                <li class="container-flex flex-center"><a href="">Tus extractos.</a></li>
                <li class="container-flex flex-center"><a href="">Certificados.</a></li>
            </ul>
        </aside>
        <section id="dashboard">
            <div class="contenedor-dashboard">
                <div class="dashboard-ppal container-grid grid-center ">
                    <div class="item-grid1">
                        <div class="tarjeta container-grid flex-center">
                            <div class="container-flex flex-center-vertical">
                                <img src="/imagenes/iconTS.png" alt="">
                                <b>&nbsp ACME</b>
                            </div>
                            <div>
                                <h3>N° de cuenta</h3>
                                <p id="numero-cuenta">0000000</p>
                            </div>
                            <div>
                                <h3>Desde</h3>
                                <p id="fecha-creacion">00/00/00</p>
                            </div>
                            <div>
                                <h3>Saldo</h3>
                                <p id="saldo-cuenta">$000.000</p>
                            </div>
                            <p id="nombre-usuario">NOMBRE DE USUARIO</p>  
                            <a href="" class="container-flex flex-center-vertical"><img src="/imagenes/recargar.png" alt="">&nbsp Recargar</a>
                        </div>
                    </div>
                    <div class="item item-grid2">
                        <a class="container-flex flex-center flex-column" href="/html/transacciones.html" target="_blank" rel="noopener noreferrer"><img src="/imagenes/movimientos.png" alt=""><p>Resumen de tus movimientos</p></a>
                    </div>
                    <div class="item item-grid3">
                        <a class="container-flex flex-center flex-column" href="/html/" target="_blank" rel="noopener noreferrer"><img src="/imagenes/transferir.png" alt=""> <p>Envia dinero</p></a></div>
                    <div class="item item-grid4">
                        <a class="container-flex flex-center flex-column" href="/html/" target="_blank" rel="noopener noreferrer"><img src="/imagenes/retiro.png" alt=""><p>Retira dinero</p></a></div>
                    <div class="item item-grid5">
                        <a class="container-flex flex-center flex-column" href="/html/" target="_blank" rel="noopener noreferrer"><img src="/imagenes/servicios.png" alt=""><p>Paga tus servicios</p></a></div>
                    <div class="item item-grid6">
                        <a class="container-flex flex-center flex-column" href="/html/" target="_blank" rel="noopener noreferrer"><img src="/imagenes/extracto.png" alt=""><p>Tus extractos</p></a></div>
                    <div class="item item-grid7">
                        <a class="container-flex flex-center flex-column" href="/html/" target="_blank" rel="noopener noreferrer"><img src="/imagenes/certificado.png" alt=""><p>Certificado bancario</p></a></div>
                </div>
            </div>

        </section>
    </main>
    <footer id="footer"></footer>
    <script src="/js/script.js"></script>
    <script >
    document.addEventListener("DOMContentLoaded", () => {
    const usuario = JSON.parse(localStorage.getItem("usuarioActivo"));

    if (!usuario) {
        Swal.fire({
        icon: 'warning',
        title: 'Sesión no iniciada',
        text: 'Por favor inicia sesión para acceder a tu cuenta.',
        confirmButtonText: 'Ir al login'
        }).then(() => {
        window.location.href = "/index.html";
        });
        return;
    }

    // Formatear fecha
    const fechaFormateada = new Date(usuario.fechaCreacion).toLocaleDateString();

    // Establecer valores en la interfaz
    document.getElementById("nombre-usuario").textContent = `${usuario.nombres} ${usuario.apellidos}`;
    document.getElementById("numero-cuenta").textContent = usuario.numeroCuenta;
    document.getElementById("fecha-creacion").textContent = fechaFormateada;
    document.getElementById("saldo-cuenta").textContent = usuario.saldo !== undefined
        ? `$${Number(usuario.saldo).toLocaleString()}`
        : "$0";
    });

    </script>

</body>
</html>